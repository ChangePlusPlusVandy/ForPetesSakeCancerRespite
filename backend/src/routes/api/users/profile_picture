const express = require('express');
import {
	auth,
	getTokenFromReq,
	getFromUserTokenAndAddIfNotFound,
} from "../../../firebase";
const router = express.Router();

router.get("/profile_picture", (req, res) => {
    let user = req.id;

    //check if the mongoDB user id exists and has profile picture
    if (!user) {
        res.status(400).json({ message: "User ID Not Provided" });
        return;
    }
    if (!user.profile_picture) {
        res.status(400).json({ message: "User Has No Profile Picture" });
        return;
    }

    //return the profile picture
    res.json(user.profile_picture);
});

export default router;